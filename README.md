# SocketServer-SZY
A TCP Socket server manages all client connection, receive &amp; send data through connections.
To start a socket server:

```Csharp
ZySocketServer.TcpSocketServer serv = new TcpSocketServer("127.0.0.1", 6050);//local host and port
serv.StartServer();
serv.ServerMessageEvent += ServOnServerMessageEvent;
serv.ServerDataReceivedEvent += ServerDataReceivedEvent;

private static void ServOnServerMessageEvent(ConnClient clientInfo)
{
    Console.WriteLine(clientInfo.ClientId);// Client ID, Generated by server host
    Console.WriteLine(clientInfo.Message);// Client trigger event message
    Console.WriteLine(clientInfo.EventType);// Trigger event type, this could be connected/online/offline/error
}
private static void ServerDataReceivedEvent(string clientInfo, byte[] data)
{
    Console.WriteLine(clientInfo);// Client ID
    var msg = Encoding.ASCII.GetString(data);
    Console.WriteLine(msg);// Received message
}
```
also this server will monitor and control all client connections, it provide functions to send message/disconnect socket connection by client id.

```CSharp
//Broadcasting
serv.BroadCastingMessage(Encoding.ASCII.GetBytes("This is a broadcasting msg"));

//Send a message with a client id
(var success, string msg) = serv.SendMessageToClient("id-1234", "Message to client", Encoding.ASCII);
Console.WriteLine($"Send {(success?"complete":"failed")}");
Console.WriteLine($"Detail info: {msg}");

//Remove a client connection
serv.RemoveClient("id-1234", out var rmMsg);
Console.WriteLine($"Client id-1234 remove info: {rmMsg}");
```
